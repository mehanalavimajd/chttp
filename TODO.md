1. check null on malloc family. (boring).
2. code review in stackExchange.